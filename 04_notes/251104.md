# ğŸ”Š Raspberry Pi 4 ë¸”ë£¨íˆ¬ìŠ¤ ìŠ¤í”¼ì»¤ ì—°ê²° íŠœí† ë¦¬ì–¼


## ğŸ§© 1. íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ ë° ì„¤ì¹˜

ë¸”ë£¨íˆ¬ìŠ¤ ê´€ë ¨ ìœ í‹¸ë¦¬í‹°ì™€ ì˜¤ë””ì˜¤ íˆ´ì„ ì„¤ì¹˜

```bash
sudo apt install -y pulseaudio pulseaudio-module-bluetooth bluez alsa-utils
```
PulseAudioê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
```
pactl info

# ì •ìƒ
Server Name: pulseaudio
```

## ğŸ”µ 2. ë¸”ë£¨íˆ¬ìŠ¤ ìŠ¤í”¼ì»¤ ê²€ìƒ‰ ë° í˜ì–´ë§

```bash
# ë¸”ë£¨íˆ¬ìŠ¤ ëª¨ë“ˆ í™œì„±í™”
sudo systemctl restart bluetooth

# ë¸”ë£¨íˆ¬ìŠ¤ ëª¨ë“ˆ ìƒíƒœ í™•ì¸
sudo systemctl status bluetooth

# 1. ë¸”ë£¨íˆ¬ìŠ¤ ì„¤ì • ë° ì§„ì…
bluetoothctl

# 2. ì»¨íŠ¸ë¡¤ëŸ¬ í™œì„±í™”
power on
agent on
default-agent

# 3. ì£¼ë³€ ì¥ì¹˜ ê²€ìƒ‰
scan on

# MAC ì£¼ì†Œ í™•ì¸ í›„ scan off
# (ì˜ˆ: 12:11:2E:C7:40:DD ì¥ì¹˜ ì´ë¦„)

# 4. í˜ì–´ë§ ì‹œë„
pair 12:11:2E:C7:40:DD

# 5. ì—°ê²°
connect 12:11:2E:C7:40:DD

# 6. ìë™ ì—°ê²°ì„ ìœ„í•´ ì‹ ë¢° ì„¤ì •
trust 12:11:2E:C7:40:DD

# 7. ì¢…ë£Œ
exit
```

## ğŸ§ 3. ì—°ê²° í™•ì¸

í˜„ì¬ ì—°ê²°ëœ ì˜¤ë””ì˜¤ ì¥ì¹˜ë¥¼ í™•ì¸

```bash
pactl list short sinks

```
ì˜ˆì‹œ ì¶œë ¥:
```
0   alsa_output.platform-bcm2835_audio.stereo-fallback   module-alsa-card.c  s16le 2ch 44100Hz   SUSPENDED
1   bluez_sink.12_11_2E_C7_40_DD.a2dp_sink               module-bluez5-device.c s16le 2ch 44100Hz SUSPENDED
```

## ğŸ” 4. ë¸”ë£¨íˆ¬ìŠ¤ ìŠ¤í”¼ì»¤ë¥¼ ê¸°ë³¸ ì¶œë ¥ìœ¼ë¡œ ì„¤ì •
```bash
pactl set-default-sink bluez_sink.12_11_2E_C7_40_DD.a2dp_sink
```
>âš ï¸ 12_11_2E_C7_40_DD ë¶€ë¶„ì€ ì‹¤ì œ ìŠ¤í”¼ì»¤ì˜ MAC ì£¼ì†Œì— ë§ê²Œ ë³€ê²½

## ğŸ”Š 5. ì‚¬ìš´ë“œ í…ŒìŠ¤íŠ¸

```
speaker-test -t wav -c 2

# aplayëŠ” WAV íŒŒì¼ ì¬ìƒ ì „ìš© ëª…ë ¹ì–´
os.system("aplay /home/pi/sound/start_delivery.wav")
aplay ~/sound/start_delivery.wav

# í˜„ì¬ ë³¼ë¥¨ìƒíƒœ í™•ì¸
pactl get-sink-volume @DEFAULT_SINK@

# ìŒëŸ‰ ì¡°ì ˆ
pactl set-sink-volume @DEFAULT_SINK@ 50%

pactl set-sink-mute @DEFAULT_SINK@ 1   # ìŒì†Œê±°
pactl set-sink-mute @DEFAULT_SINK@ 0   # í•´ì œ
```
ì¢Œ/ìš° ì±„ë„ì—ì„œ "Front Left", "Front Right" ì†Œë¦¬ê°€ ë‚˜ë©´ ì„±ê³µğŸ‰



## âš™ï¸ 6. ë¶€íŒ… ì‹œ ìë™ ì—°ê²°
ë¼ì¦ˆë² ë¦¬íŒŒì´ ë¶€íŒ… ì‹œ ìë™ìœ¼ë¡œ ë¸”ë£¨íˆ¬ìŠ¤ ìŠ¤í”¼ì»¤ ì—°ê²°
```
crontab -e

# ë§¨ ì•„ë˜ì— ì¶”ê°€ :
@reboot sleep 10 && echo -e "connect 12:11:2E:C7:40:DD\nquit" | bluetoothctl

```
