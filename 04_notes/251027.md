
# ğŸ§© ROS2 ì£¼ë¬¸ ìˆ˜ì‹  ë…¸ë“œ êµ¬í˜„ ë° ì‹¤í–‰ ê°€ì´ë“œ

## 0. ë””ë ‰í„°ë¦¬ êµ¬ì¡°
```
ros2_ws/
â””â”€â”€ src/
    â””â”€â”€ scout_robot/
        â”œâ”€â”€ package.xml
        â”œâ”€â”€ setup.py
        â”œâ”€â”€ setup.cfg
        â”œâ”€â”€ scout_robot/
        â”‚   â”œâ”€â”€ __init__.py
        â”‚   â””â”€â”€ assign_order_node.py

```

## 1. ROS2 íŒ¨í‚¤ì§€ ìƒì„±
í„°ë¯¸ë„ ì—´ê³  ì‘ì—… í´ë”ë¡œ ì´ë™:
```bash
cd ~/ros2_ws/src
```

íŒ¨í‚¤ì§€ ìƒì„± (Python ê¸°ë°˜):
```
ros2 pkg create --build-type ament_python scout_robot
```

## 2. ì½”ë“œ ì¶”ê°€
íŒ¨í‚¤ì§€ í´ë”ë¡œ ì´ë™:
```bash
cd ~/ros2_ws/src/scout_robot/scout_robot

# assign_order_node.py íŒŒì¼ ìƒì„±
```
íŒ¨í‚¤ì§€ ì½”ë“œ ì‘ì„±:
```python
import rclpy
from rclpy.node import Node
from std_msgs.msg import String

class ScoutAssignOrderNode(Node):
    def __init__(self):
        super().__init__('scout_assign_order_node')
        # /scout/assign_order í† í”½ êµ¬ë…
        self.subscription = self.create_subscription(
            String,
            '/scout/assign_order',
            self.order_callback,
            10
        )

    def order_callback(self, msg: String):
        order_number = msg.data
        self.get_logger().info(f'ë°°ë‹¬ ì£¼ë¬¸ ìˆ˜ì‹ : {order_number}')
        self.start_delivery(order_number)

    def start_delivery(self, order_number: str):
        self.get_logger().info(f'ì£¼ë¬¸ {order_number} ë°°ë‹¬ ì‹œì‘!')

def main(args=None):
    rclpy.init(args=args)
    node = ScoutAssignOrderNode()
    rclpy.spin(node)
    node.destroy_node()
    rclpy.shutdown()

```

## 3. `setup.py` ìˆ˜ì •
```
entry_points={
    'console_scripts': [
        'assign_order_node = scout_robot.assign_order_node:main',
    ],
},

```

## 4. `package.xml` í™•ì¸
ì˜ì¡´ì„± ì¶”ê°€:
```
<exec_depend>rclpy</exec_depend>
<exec_depend>std_msgs</exec_depend>
```


## 5. ë¹Œë“œ
ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë£¨íŠ¸ë¡œ ì´ë™ í›„ ë¹Œë“œ:
```
cd ~/ros2_ws
colcon build --packages-select scout_robot
```
ë¹Œë“œê°€ ì™„ë£Œë˜ë©´ í™˜ê²½ì„¤ì • ì ìš©:
```
source install/setup.bash
```

## 6. ë…¸ë“œ ì‹¤í–‰
```
ros2 run scout_robot assign_order_node
```
í„°ë¯¸ë„ì— ì´ëŸ° ë¡œê·¸ê°€ ë³´ì´ë©´ ì„±ê³µ ğŸ‘‡
```
[INFO] [1698390000.000000000] [scout_assign_order_node]: ë°°ë‹¬ ì£¼ë¬¸ ìˆ˜ì‹ : ...

```

## 7. í…ŒìŠ¤íŠ¸ - í† í”½ ë°œí–‰
ë‹¤ë¥¸ í„°ë¯¸ë„ì„ ì—´ê³  (í™˜ê²½ë³€ìˆ˜ ë‹¤ì‹œ ì ìš©):
```
source ~/ros2_ws/install/setup.bash
ros2 topic pub /scout/assign_order std_msgs/msg/String "data: 'ORDER123'"



# nav íŒ¨í‚¤ì§€ ëª…ë ¹ì–´
ros2 topic pub /room_command std_msgs/String "data: 'go_room1'"
```

#### ì°¸ê³ 

```
# íŒ¨í‚¤ì§€ í™•ì¸ ëª…ë ¹ì–´
ros2 pkg executables scout_robot
```

